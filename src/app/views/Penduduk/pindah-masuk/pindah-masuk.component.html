<!-- <div class="container"> -->

  <div class="card mb-2 " style="background-color: rgb(248, 247, 235);">
    <div class="card-body">
      <div class="accordion accordion-flush" id="accordionFlushExample">
        <div class="accordion-item" style="background-color: rgb(248, 247, 235);">
          <h1 class="accordion-header">
            <!-- <div class="d-flex justify-content-end">
              <button type="button" class="btn btn-primary" (click)="addData()"><i class="bi bi-plus-circle"></i>&nbsp;TAMBAH DATA</button>
            </div> -->
            <button class="accordion-button pb-0 mb-0" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="true" aria-controls="flush-collapseOne" style="background-color:rgb(248, 247, 235); color:black;float: left; box-shadow: none;" >
              <h5 class="card-title border-buttom pb-0 mb-0">Search Penduduk Pindah Masuk</h5>
            </button>
          </h1>
          <div id="flush-collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
              <form class="row g-3" (ngSubmit)="search()" [formGroup]="searchForm" style="background-color: rgb(248, 247, 235);">
                <hr class="border-2">
                <!-- ... your form fields ... -->
                <div class="col-md-3 col-6">
                  <label for="no_kk" class="form-label">No KK</label>
                  <input type="text" class="form-control" id="no_kk" formControlName="no_kk">
                  <div *ngIf="searchForm.controls.no_kk.hasError('pattern') && searchForm.controls.no_kk.touched" class="text-danger">
                    Nomor KK harus berisi angka
                  </div>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputPassword4" class="form-label">NIK</label>
                  <input type="text" class="form-control" id="inputPassword4" formControlName="nik">
                  <div *ngIf="searchForm.controls.nik.hasError('pattern') && searchForm.controls.nik.touched" class="text-danger">
                    NIK harus berisi angka
                  </div>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputAddress" class="form-label">Nama</label>
                  <input type="text" class="form-control" id="inputAddress" formControlName="nama">
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputState" class="form-label">Jenis Kelamin</label>
                  <select id="inputState" class="form-select" formControlName="jenis_kelamin">
                    <option hidden disabled selected></option>
                    <option *ngFor="let item of listGender" [value]="item.master_key">{{ item.master_value }}</option>
                  </select>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputState" class="form-label">RT</label>
                  <select id="inputState" class="form-select" formControlName="rt">
                    <option hidden disabled selected></option>
                    <option *ngFor="let item of listRT" [value]="item.master_key">{{ item.master_value }}</option>
                  </select>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputState" class="form-label">RW</label>
                  <select id="inputState" class="form-select" formControlName="rw">
                    <option hidden disabled selected></option>
                    <option *ngFor="let item of listRW" [value]="item.master_key">{{ item.master_value }}</option>
                  </select>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputState" class="form-label">Dusun</label>
                  <select id="inputState" class="form-select" formControlName="dusun">
                    <option hidden disabled selected></option>
                    <option *ngFor="let item of listDusun" [value]="item.master_key">{{ item.master_value }}</option>
                  </select>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputState" class="form-label">Agama</label>
                  <select id="inputState" class="form-select" formControlName="agama">
                    <option hidden disabled selected></option>
                    <option *ngFor="let item of listAgama" [value]="item.master_key">{{ item.master_value }}</option>
                  </select>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputState" class="form-label">Pendidikan</label>
                  <select id="inputState" class="form-select" formControlName="pendidikan">
                    <option hidden disabled selected></option>
                    <option *ngFor="let item of listPendidikan" [value]="item.master_key">{{ item.master_value }}</option>
                  </select>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputState" class="form-label">Pekerjaan</label>
                  <select id="inputState" class="form-select" formControlName="pekerjaan">
                    <option hidden disabled selected></option>
                    <option *ngFor="let item of listPekerjaan" [value]="item.master_key">{{ item.master_value }}</option>
                  </select>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputState" class="form-label">Status Perkawinan</label>
                  <select id="inputState" class="form-select" formControlName="status_perkawinan">
                    <option hidden disabled selected></option>
                    <option *ngFor="let item of listStatPerkawinan" [value]="item.master_key">{{ item.master_value }}</option>
                  </select>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputState" class="form-label">Hubungan Keluarga</label>
                  <select id="inputState" class="form-select" formControlName="hubungan_keluarga">
                    <option hidden disabled selected></option>
                    <option *ngFor="let item of listHubKeluarga" [value]="item.master_key">{{ item.master_value }}</option>
                  </select>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputState" class="form-label">Golongan Darah</label>
                  <select id="inputState" class="form-select" formControlName="golongan_darah">
                    <option hidden disabled selected></option>
                    <option *ngFor="let item of listGolDarah" [value]="item.master_key">{{ item.master_value }}</option>
                  </select>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputState" class="form-label">Kewarganegaraan</label>
                  <select id="inputState" class="form-select" formControlName="kewarganegaraan">
                    <option hidden disabled selected></option>
                    <option *ngFor="let item of listKewarganegaraan" [value]="item.master_key">{{ item.master_value }}</option>
                  </select>
                </div>
                <div class="col-md-3 col-6">
                  <label for="inputState" class="form-label">Status</label>
                  <select id="inputState" class="form-select">
                    <option hidden disabled selected></option>
                    <option *ngFor="let item of listStatPenduduk" [value]="item.master_key">{{ item.master_value }}</option>
                  </select>
                </div>
                <div class="col-12 d-flex justify-content-end">
                  <button type="button" class="btn btn-success m-2"><i class="bi bi-download"></i>&nbsp;Export</button>
                  <button type="button" class="btn btn-warning m-2" (click)="reset()"><i class="bi bi-x-circle"></i>&nbsp;Reset</button>
                  <button type="submit" class="btn btn-primary m-2"><i class="bi bi-search"></i>&nbsp;CARI</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card" style="background-color: rgb(248, 247, 235);">
    <div class="card-body">
      <div class="table-responsive">
        <p>Total Data : {{ totalData }}</p>
        <table class="table table-striped table-bordered">
          <caption>List of Penduduk</caption>
          <thead>
            <tr>
              <th scope="col" style="text-align: center;">Action</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Nomor KK</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">NIK</th>
              <th scope="col" style="text-align: left; white-space: nowrap;"> &nbsp; &nbsp; &nbsp; &nbsp;Nama Panjang &nbsp; &nbsp; &nbsp; &nbsp;</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Dusun</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Rw</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Rt</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Jenis Kelamin</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Tempat Lahir</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Tanggal Lahir</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Agama</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Pendidikan</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Pekerjaan</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Golongan Darah</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Status Perkawinan</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Hubungan Keluarga</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Kewarganegaraan</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">No Paspor</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">No Kitas</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Nama Ayah</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Nama Ibu</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Status</th>
              <th scope="col" style="text-align: left; white-space: nowrap;">Tanggal Terbit KK</th>
            </tr>
          </thead>
          <tbody class="table-group-divider">
            <tr *ngFor="let item of result; let i = index">
              <td style="text-align: center; white-space: nowrap;">
                <select id="inputState" class="form-select"(change)="action($event, item.nik)" style="background-color:rgb(205, 241, 241); width:110px">
                  <option hidden disabled selected>Action</option>
                  <option value="{{ edit }}" style="color: rgb(0, 14, 216); background-color:aliceblue"> • EDIT</option>
                  <option value="{{ pindah }}" style="color: rgb(25, 185, 22); background-color:aliceblue"> • PINDAH</option>
                  <option value="{{ meninggal }}" style="color: rgb(0, 0, 0); background-color:aliceblue"> • MENINGGAL</option>
                </select>
              </td>
              <td style="text-align: left;">
                {{item.no_kk}}
              </td>
              <td style="text-align: left;">
                {{item.nik}}
              </td>
              <td style="text-align: left;">
                {{item.nama}}
              </td>
              <td style="text-align: left;">
                {{item.dusun}}
              </td>
              <td style="text-align: left;">
                {{item.rw}}
              </td>
              <td style="text-align: left;">
                {{item.rt}}
              </td>
              <td style="text-align: left;">
                {{item.jenis_kelamin}}
              </td>
              <td style="text-align: left;">
                {{item.tempat_lahir}}
              </td>
              <td style="text-align: center;">
                {{item.tanggal_lahir | date: "dd-MMM-yyyy"}}
              </td>
              <td style="text-align: left;">
                {{item.agama}}
              </td>
              <td style="text-align: left;">
                {{item.pendidikan}}
              </td>
              <td style="text-align: left;white-space: nowrap;">
                {{item.pekerjaan}}
              </td>
              <td style="text-align: left;">
                {{item.golongan_darah}}
              </td>
              <td style="text-align: left;">
                {{item.status_perkawinan}}
              </td>
              <td style="text-align: left;">
                {{item.hubungan_keluarga}}
              </td>
              <td style="text-align: left;">
                {{item.kewarganegaraan}}
              </td>
              <td style="text-align: left;">
                {{item.no_paspor}}
              </td>
              <td style="text-align: left;">
                {{item.no_kitas}}
              </td>
              <td style="text-align: left;">
                {{item.nama_ayah}}
              </td>
              <td style="text-align: left;">
                {{item.nama_ibu}}
              </td>
              <td style="text-align: left;">
                {{item.status}}
              </td>
              <td style="text-align: center;">
                {{item.tanggal_terbit_kk | date: "dd-MMM-yyyy"}}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
<!-- </div> -->
